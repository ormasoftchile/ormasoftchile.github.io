<div class="container"> <div class="custom-menu row"> <div class="columns large-12" style="margin-top:35px"> <ul class="nav nav-tabs nav-justified"> <li class="ng-show" ng-show="user.permisos.listarArticulo" ng-class="(moduloActivo == 'articulo')? 'active':''"> <a href="#" ui-sref="er.articulo"><i class="fa fa-file" aria-hidden="true"></i> Artículos Disponibles</a> </li> <li class="ng-show" ng-show="user.permisos.pasivarArticulo" ng-class="(moduloActivo == 'arsenal')? 'active':''"> <a href="#" ui-sref="er.arsenal"><i class="fa fa-folder" aria-hidden="true"></i> Mi Arsenal <span class="circulo hide-for-small-only hide-for-medium-only"><span class="numcirculo"><i class="fa fa-check-circle-o fa-2x check-num" aria-hidden="true"></i></span></span> </a> </li> <li class="ng-show" ng-show="user.permisos.listarSolicitudes" ng-class="(moduloActivo == 'solicitud')? 'active':''"> <a href="#" ui-sref="er.solicitud"><i class="fa fa-check-circle" aria-hidden="true"></i> Mis Solicitudes <span class="circulo hide-for-small-only hide-for-medium-only"> <span class="numcirculo">{{contador.solicitudes}}</span> </span> </a> </li> <li class="ng-show" ng-show="user.permisos.listarSolicitudes && user.permisos.aprobarSolicitudFarmaco" ng-class="(moduloActivo == 'farmaco')? 'active':''"> <a href="#" ui-sref="er.solicitudFarmaco"><i class="fa fa-file" aria-hidden="true"></i> Solicitud de Fármacos a Validar <span class="circulo hide-for-small-only hide-for-medium-only"> <span class="numcirculo">{{contador.farmacos}}</span> </span> </a> </li> <li class="ng-show" ng-show="user.permisos.listarSolicitudes && user.permisos.aprobarSolicitudInsumo" ng-class="(moduloActivo == 'insumo')? 'active':''"> <a href="#" ui-sref="er.solicitudInsumo"><i class="fa fa-file" aria-hidden="true"></i> Solicitud de Insumos a Validar <span class="circulo hide-for-small-only hide-for-medium-only"><span class="numcirculo">{{contador.insumos}}</span></span> </a> </li> </ul> </div> </div> <div class="row"> <div class="columns large-12" style="border-bottom:1px solid #ccc"> <span style="font-size:32px;color:#666;font-weight:300;padding-left:20px"> <i class="fa fa-clock-o" aria-hidden="true"></i>{{adm.moduleTitle}}</span> </div> </div> <div class="text-center ng-show" ng-hide="user.permisos.pasivarArticulo"> <p class="base-font-size">No tiene los permisos necesarios para usar este módulo</p> </div> <div class="ng-show" ng-show="user.permisos.pasivarArticulo"> <div class="row"> <div class="columns large-8 separacion-top"> <div class="select"> <div class="large-12"> <span class="loading-input ng-show" ng-show="adm.select.waiting">&nbsp;<i class="fa fa-spinner fast-spin"></i>Cargando...</span> <span class="loading-input ng-show" ng-show="adm.select.sinResultado">&nbsp;No tiene establecimientos asignados</span> <input id="select-establecimiento" show-focus="adm.select.mostrar" ng-model="adm.select.searchText" ng-change="adm.select.actualizar()" ng-blur="adm.select.cerrar($event)" ng-focus="adm.select.desplegar()" ng-disabled="adm.select.waiting" placeholder="{{adm.select.placeholder}}"> </div> <div class="select-option large-12 ng-show" ng-show="adm.select.mostrar"> <table id="searchTextResults" class="large-12"> <tr ng-repeat="nodo in adm.select.nodos | filter:{RAZON_SOCIAL:adm.select.searchText}"> <td class="nodo-select" id="{{nodo.ID}}" ng-click="adm.select.seleccionar(nodo.ID)">{{nodo.RAZON_SOCIAL}}</td> </tr> </table> </div> </div> </div> <div class="columns large-4"></div> </div> <div class="row separacion-top"> <div class="columns large-12" style="float:right"> <ul class="nav navbar-nav" style="float:left"> <li> <a href="#" onclick="return!1" ng-click="adm.escogerRayen()" style="color:#575756!important">Farmacia Rayen <i class="fa fa-circle ng-hide" ng-hide="adm.grilla.esFarmaciaPopular" aria-hidden="true"></i> <i class="fa fa-circle-o ng-hide" ng-show="adm.grilla.esFarmaciaPopular" aria-hidden="true"></i></a> </li> <li> <a href="#" onclick="return!1" ng-click="adm.escogerPopular()" style="color:#575756!important">Farmacia Popular <i class="fa fa-circle ng-hide" ng-show="adm.grilla.esFarmaciaPopular" aria-hidden="true"></i> <i class="fa fa-circle-o ng-hide" ng-hide="adm.grilla.esFarmaciaPopular" aria-hidden="true"></i> </a> </li> </ul> <ul class="nav navbar-nav" style="float:right"> <li> <a href="#" ng-click="toggleFarmaco()" onclick="return!1" style="color:#575756!important">Farmacos <i ng-class="adm.grilla.farmaco.clase" aria-hidden="true"></i></a> </li> <li> <a href="#" ng-click="toggleInsumo()" onclick="return!1" style="color:#575756!important">Insumos <i ng-class="adm.grilla.insumo.clase" aria-hidden="true"></i></a> </li> <li> <div class="input-group stylish-input-group" style="width:300px;float:right"> <input ng-keypress="adm.grilla.pressEnterSearch($event)" type="text" class="form-control" ng-model="adm.grilla.searchTerms" placeholder="Ingrese el nombre del artículo"> <span class="input-group-addon" style="background-color:#fff"> <button class="search-button" ng-click="adm.grilla.search()" type="submit" id="myBtn" style="background-color:#fff;border:none"> <a href="#" onclick="return!1" style="color:#666"> <i class="fa fa-search" aria-hidden="true"></i> </a> </button> </span> </div> </li> </ul> </div> </div> <div class="row"> <div class="table-responsive columns large-12" style="margin-top:20px"> <table class="table grilla"> <thead class="thead-inverse" style="background-color:#00949B"> <tr> <th> # <i ng-click="adm.sortId($event)" class="sorter fa fa-caret-down"></i></th> <th> Bodega </th> <th> Tipo <i ng-click="adm.sortTipo($event)" class="sorter fa fa-caret-down"></i> </th> <th> Nombre Genérico <i ng-click="adm.sortNombre($event)" class="sorter selected fa fa-caret-down"></i> </th> <th> Stock <i ng-click="adm.sortStock($event)" class="sorter fa fa-caret-down"></i> </th> <th> Recetas <i ng-click="adm.sortReceta($event)" class="sorter fa fa-caret-down"></i> </th> </tr> </thead> <tbody> <tr class="loading"> <td class="grilla-vacia ng-hide" colspan="{{adm.grilla.largo}}" ng-show="adm.grilla.waiting"> <i class="fa fa-4x fa-spinner fast-spin"></i> </td> </tr> <tr> <td class="grilla-sin-resultado ng-hide" colspan="{{adm.grilla.largo}}" ng-show="adm.grilla.sinResultado"> <p>No se encontraron resultados para la solicitud buscada</p> </td> </tr> <tr ng-click="adm.solicitud.show($index)" id="data-id-{{articulo.ID}}" ng-repeat="articulo in adm.grilla.resultado track by articulo.NEO_ID"> <th class="borde-tabla">{{articulo.ID}}</th> <td class="borde-tabla">{{articulo.BODE_NOMBRE}}</td> <td class="borde-tabla">{{adm.getNombreTipoArticulo(articulo.LINE_ID)}} </td> <td class="borde-tabla"> {{articulo.NOMBRE_GENERICO}} </td> <td class="borde-tabla">{{articulo.STOCK}}</td> <td class="borde-tabla"><i class="fa fa-spinner fast-spin ng-show" ng-show="articulo.CANTIDAD_DE_RECETAS == null"></i>{{articulo.CANTIDAD_DE_RECETAS}}</td> </tr> </tbody> </table> </div> </div> <div class="columns large-12"> <div class="columns large-4"></div> <div class="columns large-4"></div> <div class="columns large-4"> <div class="row"> <div class="botonera-drop btn-right"> <button href="#" data-dropdown="gridCounter" aria-controls="gridCounter" aria-expanded="false" class="btn btn-default button dropdown" style="float:left;margin-top:15px;margin-right:10px"> Mostrar {{adm.grilla.mostrando}} </button> <ul id="gridCounter" data-dropdown-content class="f-dropdown" aria-hidden="true"> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(10)">Mostrar 10</a></li> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(15)">Mostrar 15</a></li> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(20)">Mostrar 20</a></li> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(25)">Mostrar 25</a></li> <li role="separator" class="divider"></li> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(30)">Mostrar 30</a></li> </ul> </div> </div> </div> </div> <div class="row columns large-12"> <div class="columns large-4">&nbsp;</div> <div class="columns large-4"> <nav aria-label="Page navigation ng-show" ng-show="adm.grilla.paginacion.mostrar"> <ul class="pagination"> <li> <a href="#" ng-click="adm.grilla.anteriorPagina()" onclick="return!1" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> </a> </li> <li ng-class="(adm.grilla.paginaActual == page)? 'current':'' " ng-repeat="page in adm.grilla.paginacion.labels" ng-click="adm.grilla.muestraPagina(page)"> <a href="#" onclick="return!1">{{page}}</a> </li> <li> <a href="#" ng-click="adm.grilla.siguientePagina()" onclick="return!1" aria-label="Next"> <span aria-hidden="true">&raquo;</span> </a> </li> </ul> </nav> </div> <div class="columns large-4">&nbsp;</div> </div> </div> </div> <div id="detalleArticulo" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog" data-options=""> <div class="modal-content row"> <div class="modal-header"> <button class="close-reveal-modal" aria-label="Close" type="button">&times;</button> <h4 class="modal-title upcase">&nbsp;&nbsp;{{adm.solicitud.titulo}}</h4> </div> <div class="modal-body large-12 columns"> <div class="row"> <div class="large-6 columns inputs-modal">Tipo de Artículo:</div> <div class="large-6 columns inputs-modal">&nbsp;{{adm.getNombreTipoArticulo(adm.solicitud.articulo.LINE_ID)}}</div> </div> <div class="row" data-name="codigoIsp"> <div class="large-6 columns inputs-modal">Código ISP:</div> <div class="large-6 columns inputs-modal">&nbsp;{{adm.solicitud.articulo.CODIGO_ESTANDAR}}</div> </div> <div class="row"> <div class="large-6 columns inputs-modal">Nombre Genérico:</div> <div class="large-6 columns inputs-modal">&nbsp;{{adm.solicitud.articulo.NOMBRE_GENERICO}}</div> </div> <div class="row resultados-busqueda"> <div class="columns large-12" style="margin-top:20px"> <table class="table"> <thead class="thead-inverse" style="background-color:#00949B"> <tr> <th class="text-center">Stock</th> <th class="text-center">Recetas</th> </tr> </thead> <tbody> <tr> <td class="text-center">{{adm.solicitud.articulo.STOCK}}</td> <td class="text-center">{{adm.solicitud.articulo.CANTIDAD_DE_RECETAS}}</td> </tr> </tbody> </table> <div class="alert-danger upcase ng-show" ng-show="adm.solicitud.invalido" role="alert"><strong>No se pueden pasivar artículos con stock o recetas pendientes</strong> </div> </div> </div> <div class="row resultados-busqueda"> <div class="columns large-12" style="margin-top:20px"> <table class="table"> <thead class="thead-inverse" style="background-color:#00949B"> <tr> <th>Nº Receta</th> <th>RUT</th> <th>Nombre Completo</th> <th>Fecha de Generación</th> </tr> </thead> <tbody> <tr> <td class="grilla-sin-resultado ng-hide" colspan="{{adm.minigrilla.largo}}" ng-show="adm.minigrilla.sinResultado"> <p>No se encontraron recetas "Pendientes" o "Por Despachar" para el artículo buscado</p> </td> </tr> <tr class="loading"> <td class="grilla-vacia ng-hide" colspan="{{adm.minigrilla.largo}}" ng-show="adm.minigrilla.waiting"> <i class="fa fa-4x fa-spinner fast-spin"></i> </td> </tr> <tr ng-repeat="receta in adm.minigrilla.resultado"> <td scope="row">{{receta.RCTA_ID}}</td> <td scope="row">{{receta.RUT_USUARIO}}</td> <td scope="row">{{receta.NOMBRE_USUARIO}}</td> <td scope="row">{{receta.FECHA_GENERACION | date : 'yyyy-MM-dd HH:mm'}}</td> </tr> </tbody> </table> </div> <div class="row ng-show" ng-show="!adm.minigrilla.oculto && !adm.minigrilla.sinResultado && !adm.minigrilla.waiting"> <div class="columns large-6 large-centered small-8 small-centered"> <nav aria-label="Page navigation ng-show" ng-show="adm.minigrilla.paginacion.mostrar"> <ul class="pagination"> <li> <a href="#" ng-click="adm.minigrilla.anteriorPagina()" onclick="return!1" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> </a> </li> <li ng-class="(adm.minigrilla.paginaActual == page)? 'current':'' " ng-repeat="page in adm.minigrilla.paginacion.labels" ng-click="adm.minigrilla.muestraPagina(page)"> <a href="#" onclick="return!1">{{page}}</a> </li> <li> <a href="#" ng-click="adm.minigrilla.siguientePagina()" onclick="return!1" aria-label="Next"> <span aria-hidden="true">&raquo;</span> </a> </li> </ul> </nav> </div> </div> </div> </div> <div class="modal-footer"> <button ng-click="adm.solicitud.pasivar()" type="button" class="btn btn-left btn-warning upcase">Pasivar</button> <span class="btn-left ng-show" ng-show="adm.solicitud.procesando"><i class="fa fa-spinner fast-spin"></i> {{adm.solicitud.textoProcesando}}</span> <button ng-click="adm.solicitud.cancelar()" type="button" class="btn btn-danger upcase">Cerrar</button> </div> </div> </div>