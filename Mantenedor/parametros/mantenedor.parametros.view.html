<div class="container mant-parametro"> <div class="row"> <div class="columns large-12" style="border-bottom:1px solid #ccc"><span style="font-size:32px;color:#666;font-weight:300;padding-left:20px"> <i class="fa fa-clock-o" aria-hidden="true"></i> {{moduleTitle}}</span></div> </div> <div class="text-center ng-show" ng-hide="user.permisos.listarParametro"> <p class="base-font-size">No tiene los permisos necesarios para usar este módulo</p> </div> <div class="ng-show" ng-show="user.permisos.listarParametro"> <div class="row"> <div class="columns large-8"> <div class="separacion-top"> <div class="select"> <div class="large-12"> <span class="loading-input ng-show" ng-show="adm.select.waiting">&nbsp;<i class="fa fa-spinner fast-spin"></i>Cargando...</span> <div class="sin-resultado loading-input ng-show" ng-show="adm.select.sinResultado">&nbsp;No tiene establecimientos asignados</div> <input show-focus="adm.select.mostrar" class="ng-show" ng-hide="adm.select.sinResultado" ng-model="adm.select.searchText" ng-change="adm.select.actualizar()" ng-blur="adm.select.cerrar()" ng-focus="adm.select.desplegar()" ng-disabled="adm.select.waiting" placeholder="{{adm.select.placeholder}}"> </div> <div class="select-option large-12 ng-show" ng-show="adm.select.mostrar"> <table id="searchTextResults" class="large-12"> <tr ng-repeat="nodo in adm.select.nodos | filter:{RAZON_SOCIAL:adm.select.searchText}"> <td class="nodo-select" id="{{nodo.ID}}" ng-click="adm.select.seleccionar(nodo.ID)">{{nodo.RAZON_SOCIAL}}</td> </tr> </table> </div> </div> </div> </div> <div class="columns large-4"></div> </div> <div class="row"> <div class="columns large-12 button-cabecera" style="float:right"> <ul class="nav navbar-nav" style="float:right"> <li> <div class="input-group stylish-input-group" style="width:300px;float:right"> <input ng-keypress="adm.grilla.pressEnterSearch($event)" type="text" class="form-control" ng-model="adm.grilla.searchTerms" ng-change="adm.grilla.searchTermsChange()" placeholder="Ingrese el nombre del parámetro"> <span class="input-group-addon" style="background-color:#fff"> <button class="search-button" id="myBtn" style="background-color:#fff;border:none" ng-click="adm.grilla.search()"> <a href="#" onclick="return!1" style="color:#666"> <i class="fa fa-search" aria-hidden="true"></i> </a> </button> </span> </div> </li> </ul> </div> </div> <div class="row"> <div class="table-responsive mostrar-pastillas columns large-12" style="margin-top:20px"> <h5>Parámetros para el nodo: {{adm.select.nombreEstablecimiento}}</h5> <form name="form" novalidate> <table class="table grilla"> <thead class="thead-inverse" style="background-color:#00949B"> <tr> <th style="width:50%">Parámetro<i ng-click="adm.sortParametro($event)" class="sorter fa fa-caret-down"></i></th> <th style="width:15%">Valor<i ng-click="adm.sortValor($event)" class="sorter fa fa-caret-down"></i></th> <th class="show-for-medium-up" style="width:7%">Activo<i ng-click="adm.sortActivo($event)" class="sorter fa fa-caret-down"></i></th> <th style="width:13%" class="show-for-medium-up">Modificado por</th> <th style="width:15%" class="show-for-medium-up">Última actualización<i ng-click="adm.sortFechaActualizacion($event)" class="sorter fa fa-caret-down"></i></th> </tr> </thead> <tbody> <tr class="loading"> <td class="grilla-vacia ng-hide" colspan="{{adm.grilla.largo}}" ng-show="adm.grilla.waiting"> <i class="fa fa-4x fa-spinner fast-spin"></i> </td> </tr> <tr> <td class="grilla-sin-resultado ng-hide" colspan="{{adm.grilla.largo}}" ng-show="adm.grilla.sinResultado"> <p>No se encontraron resultados para la solicitud buscada</p> </td> </tr> <tr id="data-id-{{parametro.ID}}" class="{{parametro.ELIMINADO? 'celda-inactiva':''}}" ng-repeat="parametro in adm.grilla.resultado track by parametro.ID"> <td class="data-td data-td-nombre borde-tabla"> <div class="btn btn-group"> <button type="button" data-dropdown="drop-{{parametro.ID}}" class="btn btn-Pastilla" aria-expanded="true"> {{adm.getNombre(parametro.NOMBRE)}} <span class="caret"></span> </button> <ul id="drop-{{parametro.ID}}" data-dropdown-content class="parametro dropdown-menu pastillitas f-dropdown" role="menu"> <li><strong>{{parametro.NOMBRE}}:</strong>&nbsp;<br>{{parametro.DESCRIPCION}}</li> </ul> </div> <div id="botonera-id-{{parametro.ID}}" class="botonera-grid btn-right" ng-hide="parametro.ELIMINADO"> <div class="botonera-no-edicion"> <button class="btn btn-warning upcase ng-show" ng-click="adm.editar.confirmarDesactivar(parametro)" ng-show="user.permisos.desactivarParametro">Desactivar</button> <button ng-click="adm.editar.editar(parametro)" class="btn btn-warning upcase ng-show" ng-show="user.permisos.modificarParametro">Editar</button> </div> <div class="botonera-edicion"> <button ng-click="adm.editar.cancelar(parametro)" class="btn upcase btn-warning">Cancelar</button> <button type="submit" ng-click="save(parametro)" ng-disabled="adm.editar.procesando" class="btn upcase btn-warning">Guardar</button> </div> </div> <div id="botonera-id-activar-{{parametro.ID}}" class="botonera-grid btn-right" ng-show="parametro.ELIMINADO"> <div class="botonera-activar"> <button class="btn btn-warning upcase ng-show" ng-click="adm.editar.preLlenar(parametro)" ng-show="user.permisos.desactivarParametro"> <span ng-hide="adm.editar.procesando && adm.editar.index == $index">Activar</span> <span ng-show="adm.editar.procesando && adm.editar.index == $index"><i class="fa fa-spinner fast-spin"></i>&nbsp;Activando...</span></button>  </div> </div> </td> <td class="data-td data-td-valor borde-tabla" style=""> <div class="data" style=""> {{adm.getValorParametro(parametro)}} </div> <div class="edit"> <input type="text" name="valor" id="valor" ng-keypress="adm.revisar($event);" ng-model="entrada.valor" ng-show="parametro.MPY.MTP_ID == 1 && parametro.MPY.MVP_PARAMETROS_VALORES_POSIBLES.length == 0" ng-init="entrada.valor=parametro.VALOR" required> <select id="valor" ng-model="entrada.valor" name="valor" ng-show="parametro.MPY.MTP_ID == 2 && parametro.MPY.MVP_PARAMETROS_VALORES_POSIBLES.length > 0" ng-init="entrada.valor=parametro.VALOR" required> <option ng-repeat="valor in parametro.MPY.MVP_PARAMETROS_VALORES_POSIBLES 
                                  track by valor.ID" value="{{valor.VALOR}}">{{valor.VALOR}}</option> </select> <select id="valor" ng-model="entrada.valor" name="valor" ng-show="parametro.MPY.MTP_ID == 3" ng-init="entrada.valor=parametro.VALOR" required> <option value="1">True</option> <option value="0">False</option> </select> </div> </td> <td class="data-td show-for-medium-up data-td-activo borde-tabla"> <div class="data" ng-hide="parametro.ELIMINADO">SI</div> <div class="data" ng-show="parametro.ELIMINADO">NO</div> <div class="edit" ng-hide="parametro.ELIMINADO">SI</div> <div class="edit" ng-show="parametro.ELIMINADO">NO</div> </td> <td class="data-td show-for-medium-up borde-tabla"> <div class="data">{{parametro.NOMBRE_MODIFICADO}}</div> <div class="edit">{{parametro.NOMBRE_MODIFICADO}}</div> </td> <td class="data-td show-for-medium-up borde-tabla"> <div class="data">{{parametro.ULTIMA_ACTUALIZACION | date:'dd/MM/yyyy HH:mm:ss'}}</div> <div class="edit">{{parametro.ULTIMA_ACTUALIZACION | date:'dd/MM/yyyy HH:mm:ss'}}</div> </td> </tr> </tbody> </table> </form> </div> </div> <div class="columns large-12"> <div class="columns large-4"></div> <div class="columns large-4"></div> <div class="columns large-4"> <div class="row"> <div class="botonera-drop btn-right"> <button href="#" data-dropdown="gridCounter" aria-controls="gridCounter" aria-expanded="false" class="btn btn-default button dropdown" style="float:left;margin-top:15px;margin-right:10px"> Mostrar {{adm.grilla.mostrando}} </button> <ul id="gridCounter" data-dropdown-content class="f-dropdown" aria-hidden="true"> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(10)">Mostrar 10</a></li> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(15)">Mostrar 15</a></li> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(20)">Mostrar 20</a></li> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(25)">Mostrar 25</a></li> <li role="separator" class="divider"></li> <li><a href="#" onclick="return!1" ng-click="adm.grilla.cambiarContador(30)">Mostrar 30</a></li> </ul> </div> </div> </div> </div> <div class="row"> <div class="columns large-12"> <div class="columns large-4"></div> <div class="columns large-offset-4 large-4"> <nav aria-label="Page navigation ng-show" ng-show="adm.grilla.paginacion.mostrar"> <ul class="pagination"> <li> <a href="#" ng-click="adm.grilla.anteriorPagina()" onclick="return!1" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> </a> </li> <li ng-class="(adm.grilla.paginaActual == page)? 'current':'' " ng-repeat="page in adm.grilla.paginacion.labels" ng-click="adm.grilla.muestraPagina(page)"> <a href="#" onclick="return!1">{{page}}</a> </li> <li> <a href="#" ng-click="adm.grilla.siguientePagina()" onclick="return!1" aria-label="Next"> <span aria-hidden="true">&raquo;</span> </a> </li> </ul> </nav> </div> <div class="columns large-4"></div> </div> </div> <div id="confirmaEliminacion" class="reveal-modal small" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog" data-options="close_on_background_click:false;close_on_esc:false;"> <div class="modal-header"> <button class="close-reveal-modal" aria-label="Close" type="button">&times;</button> <h4 class="modal-title">Confirmar Desactivación de Parámetro</h4> </div> <div class="modal-body"> <p class="text-center">¿Esta seguro de querer desactivar el parámetro "{{adm.editar.seleccionado.NOMBRE}}"?</p> </div> <div class="modal-footer"> <button ng-click="adm.editar.desactivar();" class="btn btn-default upcase">Confirmar</button> <button ng-click="closeModal('#confirmaEliminacion');" class="btn btn-danger upcase" aria-label="Close" aria-hidden="true">Cancelar</button> </div> </div> </div> </div>